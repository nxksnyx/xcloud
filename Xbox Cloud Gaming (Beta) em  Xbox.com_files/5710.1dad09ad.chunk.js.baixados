"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[5710],{15520:(e,a,t)=>{t.d(a,{X:()=>H});var s=t(41506),o=t.n(s),r=t(67996),l=t.n(r),d=(t(1402),t(47010),t(31085)),n=t(39731),i=t(20090),c=t(79384),u=t(57361),_=t(14041),m=t(77926),p=t(53373),C=t.n(p),g="GameCardContextMenu-module__container___5Xd+b",h=t(93441),v=t(19783),x=t(94905),I=t(29622);const j=({productData:e})=>{const a=(0,h.FE)("View_Game_Details"),t={className:"GameCardContextMenu-module__option___VMI6E",buttonType:c.VQ.Tertiary,buttonSize:c.Mp.Medium,isCallToAction:!1};return(0,d.jsxs)("div",{className:g,children:[(0,d.jsx)("h2",{className:"GameCardContextMenu-module__title___8-2QU",children:e.title}),(0,d.jsx)(c.JK,o()(o()({as:"a","data-auto-focus":!0,href:v.Product.getLink(e.productId,e.title)},t),{},{children:a})),(0,d.jsx)(x.w,o()({"data-auto-focus":!0,productId:e.productId,location:"HomePage"},t))]})},N=()=>(0,d.jsxs)("div",{className:g,children:[(0,d.jsx)(I.E,{className:"GameCardContextMenu-module__titleSkeleton___JY0yD"}),(0,d.jsx)(I.E,{className:"GameCardContextMenu-module__buttonSkeleton___gY+ia"})]}),G=()=>{const e=(0,h.FE)("Generic_Error");return(0,d.jsx)("div",{className:C()(g,"GameCardContextMenu-module__errorContainer___ixyXa"),children:e})};var b=t(47214);const f=({productId:e})=>{const[,a]=(0,b.x)(e),t=(0,_.useCallback)((e=>(0,d.jsx)(G,{})),[]),s=(0,_.useCallback)((({data:e})=>(0,d.jsx)(j,{productData:e})),[]),o=(0,_.useCallback)((()=>(0,d.jsx)(N,{})),[]),r=(0,_.useCallback)((e=>e.previousContent?s(e.previousContent):o()),[s,o]);return(0,_.useMemo)((()=>(0,d.jsx)(i.LceRenderer,{data:a,renderFetching:r,renderContent:s,renderError:t})),[a,s,t,r])};var L=t(56789),k=t(25353),S=t(83854),T=t(55807),w=t(58712),D=t(94787),P=t(7293),y=(t(47748),t(37509)),A="LeavingDate-module__background___agNBD",B=t(76850),E=t(56136),M=t(23740),R=t(69920);const F=({productId:e})=>{var a;const[t,s,o]=(0,h.cG)("Leaving_Soon_Title","Leaving_Soon_Subtitle","Leaving_Soon_Fallback_Title"),[r,l]=(0,b.x)(e,E._.Detailed),[n]=(0,B.F)(M.J.CloudBYOGAll),c=(0,_.useMemo)((()=>{var e;return null!==(e=null===n||void 0===n?void 0:n.products)&&void 0!==e?e:[]}),[n]),u=null===r||void 0===r||null===(a=r.productDates)||void 0===a||null===(a=a.CFQ7TTC0K6L8)||void 0===a?void 0:a.ExitDateUTC,m=(0,_.useMemo)((()=>{if(!u)return o;const e=new Date(u).toLocaleDateString(void 0,{day:"numeric",month:"numeric"});return(0,y.GPZ)(t,e)}),[u,t,o]),p=(0,_.useMemo)((()=>c.includes(e)?s:""),[c,e,s]),C=(0,_.useMemo)((()=>()=>(0,d.jsx)(I.E,{className:A})),[]),g=(0,_.useMemo)((()=>()=>(0,d.jsx)(R.B,{className:A,title:m,subtitle:p})),[m,p]);return(0,d.jsx)(i.LceRenderer,{data:l,renderFetching:C,renderContent:g})},$=["className","productId"],H=e=>{let{className:a,productId:t}=e,s=l()(e,$);const[,r]=(0,w.a)(t),p=(0,_.useRef)(null),C=(0,_.useCallback)((e=>{const t=(0,u.getDataOrPrevious)(e);return null!==t&&void 0!==t&&t.productInfo?(0,d.jsx)(K,o()({ref:p,className:a,productInfo:t.productInfo,productPurchased:t.isProductPurchased},s)):(0,d.jsx)(c.Xg,{ref:p,className:a,as:"div",children:(0,d.jsx)(I.E,{className:m.PH})})}),[a,s]),g=(0,_.useCallback)((({data:e})=>e.productInfo?(0,d.jsx)(K,o()({ref:p,className:a,productInfo:e.productInfo,productPurchased:e.isProductPurchased,ownershipBadgeType:e.ownershipBadgeType},s)):(0,d.jsx)(c.Xg,{ref:p,className:a,as:"div",children:(0,d.jsx)(I.E,{className:m.PH})})),[a,s]);return(0,d.jsx)(D.C9,{location:"GameCard",children:(0,d.jsx)(n.PersistentFocus,{contentRef:p,deps:[r.type],children:(0,d.jsx)(i.LceRenderer,{data:r,renderFetching:C,renderContent:g})})})},K=(0,_.forwardRef)((({className:e,containerClassName:a,productInfo:t,productImageType:s,imageConstraints:o,tvImageConstraint:r,defaultImageConstraint:l,showInputBadges:n=!0,showExitDate:i=!1,ownershipBadgeType:c},u)=>{var m;const p=(0,T.X5)(t.productId,s),C=(0,_.useMemo)((()=>({imageUrl:p,alt:t.title,tvConstraint:r,defaultConstraint:l,constraints:o})),[p,t.title,r,l,o]),g=(0,h.FE)("Accessibility_ProductDetail_Link"),x=(0,D.o3)(),I=v.Product.getLink(t.productId,t.title),j=(0,_.useCallback)((()=>x.trackLink(I)),[x,I]),N=(0,_.useRef)(null),G=(0,_.useMemo)((()=>(0,d.jsx)(f,{productId:t.productId})),[t.productId]),{addAccelerator:b,removeAccelerator:w}=(0,k.H)({itemRef:N,content:G}),y=!(null===(m=globalThis.navigator)||void 0===m||!m.share);return(0,d.jsxs)(P.x,{itemRef:N,className:a,content:y?G:void 0,children:[(0,d.jsx)(L.x,{as:"a",ref:(0,S.i)(u,N),"aria-label":`${g} ${t.title}`,className:e,gameTitle:t.title,gameImageProps:C,href:I,onClick:j,productId:t.productId,showInputBadges:n,ownershipBadgeType:c,onFocus:b,onBlur:w}),i&&(0,d.jsx)(F,{productId:t.productId})]})}))},56789:(e,a,t)=>{t.d(a,{x:()=>h});var s=t(41506),o=t.n(s),r=t(67996),l=t.n(r),d=t(31085),n=t(79384),i=t(53373),c=t.n(i),u=t(14041),_=t(77926),m=t(1928),p=t(55960),C=t(86476);const g=["productId","showInputBadges","ownershipBadgeType","gameTitle","gameImageProps","id","className"],h=(0,u.forwardRef)(((e,a)=>{let{productId:t,showInputBadges:s=!0,ownershipBadgeType:r=m.s.None,gameTitle:i,gameImageProps:h,id:v,className:x}=e,I=l()(e,g);const j=(0,u.useId)(),{gameCardId:N,supportedInputBadgesId:G,ownershipBadgeId:b}=(0,u.useMemo)((()=>({gameCardId:null!==v&&void 0!==v?v:`gc-${j}`,supportedInputBadgesId:`sib-${j}`,ownershipBadgeId:`ob-${j}`})),[v,j]);return(0,d.jsx)(n.Xg,o()(o()({ref:a,className:c()(_.Nr,x),"aria-labelledby":`${N} ${G} ${b}`,id:N},I),{},{overlay:(0,d.jsxs)("div",{className:c()(_.Os,{[_.Lw]:r!==m.s.None}),children:[(0,d.jsxs)("div",{className:_.Y_,children:[(0,d.jsx)(m.L,{id:b,type:r,className:_.lw}),s&&(0,d.jsx)(C.J,{id:G,productId:t})]}),(0,d.jsx)("div",{className:_.ev,children:(0,d.jsx)("div",{className:_.a4,children:(0,d.jsx)("div",{className:_.$K,children:i})})})]}),children:(0,d.jsx)(p.Y,o()({},h))}))}))},59920:(e,a,t)=>{t.d(a,{$:()=>r});var s=t(23522),o=t(16556);const r=(0,s.vR)(o.H.Sigls,"FETCH_SIGL_START",(e=>({id:e})),"FETCH_SIGL_SUCCESS",(e=>({sigl:e})),"FETCH_SIGL_ERROR",((e,a)=>({id:e,error:a})))},69920:(e,a,t)=>{t.d(a,{B:()=>d});var s=t(31085),o=t(53373),r=t.n(o),l=t(84231);const d=({className:e,title:a,subtitle:t})=>(0,s.jsxs)("div",{className:r()(l.kL,e),children:[(0,s.jsx)("div",{className:l.DD,children:a}),(0,s.jsx)("div",{className:l.VA,children:t})]})},76850:(e,a,t)=>{t.d(a,{F:()=>u,j:()=>c});var s=t(41506),o=t.n(s),r=(t(47010),t(57361)),l=t(14041),d=t(24162),n=t(59920),i=t(39413);function c(e,a=!0){return(0,r.useReduxLce)((0,l.useCallback)((a=>(0,i.aE)(a,e)),[e]),(0,l.useMemo)((()=>a?n.$.start(e):void 0),[e,a]))}function u(e,a=!0){const[t,s]=c(e,a),[,n]=(0,d.v)(null===t||void 0===t?void 0:t.products),i=(0,l.useMemo)((()=>(0,r.lceTransform)((0,r.lceMerge)(s,n,{strict:!0}),(([e,a])=>e&&a?o()(o()({},e),{},{products:a}):[]))),[s,n]);return(0,r.useLce)(i)}},77926:(e,a,t)=>{t.d(a,{$K:()=>l,Lw:()=>c,Nr:()=>s,Os:()=>i,PH:()=>r,Y_:()=>o,a4:()=>d,ev:()=>n,lw:()=>u});var s="GameCard-module__card___MM1kE",o="GameCard-module__children___UrtPK",r="GameCard-module__fullSize___YPN3p",l="GameCard-module__gameTitle___iLGNn",d="GameCard-module__gameTitleInnerWrapper___2T9PG",n="GameCard-module__gameTitleWrapper___BoyuW",i="GameCard-module__group___jqx2L",c="GameCard-module__overlay___GcaSO",u="GameCard-module__ownershipBadge___0ceZL"},80291:(e,a,t)=>{t.d(a,{R:()=>_});t(47010);var s=t(31085),o=t(79384),r=t(37627),l=t(37509),d=t(53373),n=t.n(d),i=t(93441),c=t(19783),u=t(94787);const _=({className:e,siglId:a,siglTitle:t})=>{const[d,_]=(0,i.cG)("Show_All","Show_All_Section_Games"),m=(0,u.o3)();return(0,s.jsxs)(o.Xg,{as:"a",className:n()(e,"ShowAllCard-module__showAllCard___Ct7+Y"),onClick:()=>m.trackLink(c.Gallery.getLink(a),"ShowAllLink"),href:c.Gallery.getLink(a),"aria-label":(0,l.GPZ)(_,t.toLowerCase()),children:[(0,s.jsx)(o.In,{iconSize:o.lK.Medium,"aria-hidden":!0,className:"ShowAllCard-module__icon___0t8jc",icon:r.A}),(0,s.jsx)("div",{className:"ShowAllCard-module__label___CiAf4",children:d})]})}},84231:(e,a,t)=>{t.d(a,{DD:()=>d,KZ:()=>n,VA:()=>r,g4:()=>l,kL:()=>s,nV:()=>o});var s="Details-module__container___SzrLP",o="Details-module__skeletonContainer___gDpmI",r="Details-module__subtitle___AWQw7",l="Details-module__subtitleSkeleton___vjR6K",d="Details-module__title___DlAfn",n="Details-module__titleSkeleton___fw4u3"},94905:(e,a,t)=>{t.d(a,{w:()=>S});var s=t(41506),o=t.n(s),r=t(67996),l=t.n(r),d=(t(47010),t(31085)),n=t(79384),i=t(74663),c=t(37509),u=t(53373),_=t.n(u),m=t(14041),p="ShareButton-module__shareButton___5yJP-",C=t(41243),g=t(87309),h=t(30961),v=t(15387),x=t(57333),I=t(32360),j=t(44552),N=t(93441),G=t(19783),b=t(12163),f=t(86600);const L=["className","productId","location","title","icon","label"],k=(0,m.memo)((e=>{const{className:a,productId:t,location:s,title:r,icon:u,label:k}=e,S=l()(e,L),{isTV:T}=(0,h.U)(),w=(0,C.D)(),{telemetryProvider:D}=(0,x.A)(),[P,y]=(0,N.cG)("PwaPrompt_Share","Play_With_Xbox_Cloud_Gaming"),A=(0,m.useMemo)((()=>({title:(0,c.GPZ)(y,null!==r&&void 0!==r?r:""),text:(0,c.GPZ)(y,null!==r&&void 0!==r?r:""),url:`${j.Bq}${G.Product.getLink(t,null!==r&&void 0!==r?r:"")}`})),[y,t,r]),B=(0,m.useCallback)((e=>{D.trackEvent(o()(o()({},e),{},{productId:t}))}),[t,D]),E=(0,b.G)(),M=(0,v.G_)(g.H.EnableUserGestureDialog),R=(0,m.useCallback)((e=>{E(f.zl.path,{type:"Share",onAllow:e})}),[E]),{canShare:F,onShare:$}=(0,I.T)({payload:A,onTelemetry:B,isDeveloperMode:w,onUserGestureRequired:M?R:void 0,tracking:{correlationVector:D.getCV(),location:s,productId:t}}),H=()=>(0,d.jsx)(n.JK,o()(o()({isCallToAction:!0,as:"button",buttonType:n.VQ.Primary,className:_()(p,a),onClick:$},S),{},{children:P})),K=()=>(0,d.jsx)(n.mS,{isCallToAction:!0,as:"button",buttonType:n.VQ.Primary,className:_()(p,a),onClick:$,icon:i.A,"aria-label":P,children:k?P:void 0});return!F||T?null:u?(0,d.jsx)(K,{}):(0,d.jsx)(H,{})})),S=e=>(0,d.jsx)(k,o()({},e))}}]);