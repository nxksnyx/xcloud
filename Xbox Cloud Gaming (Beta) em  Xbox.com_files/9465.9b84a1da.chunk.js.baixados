"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[9465],{323:(e,t,n)=>{n.d(t,{r:()=>l});var o=n(31085),i=n(79384),r=n(38485),s=n(53373),a=n.n(s),c=n(93441);const l=({id:e,className:t,iconClassName:n})=>{const s=(0,c.FE)("GamePassBadge_Title");return(0,o.jsx)(i.Ex,{iconSize:i.lK.Large,className:a()(t,"GamePassBadge-module__gamepassBadge___bpa1B"),icons:[r.A],iconClassName:n,id:e,"aria-label":s,role:"img"})}},1928:(e,t,n)=>{n.d(t,{s:()=>d,L:()=>m});var o=n(31085),i=n(53373),r=n.n(i),s=n(79384),a=n(70463),c=n(93441);const l=({id:e,className:t,iconClassName:n})=>{const i=(0,c.FE)("Game_Owned_Badge");return(0,o.jsx)(s.Ex,{iconSize:s.lK.XSmall,className:r()(t,"GameOwnedBadge-module__gameOwnedBadge___zssJl"),icons:[a.A],iconClassName:n,id:e,"aria-label":i,role:"img"})};var d,u=n(323);!function(e){e[e.Owned=0]="Owned",e[e.Gamepass=1]="Gamepass",e[e.F2P=2]="F2P",e[e.None=3]="None"}(d||(d={}));const m=({type:e,id:t,className:n})=>{switch(e){case d.Owned:return(0,o.jsx)(l,{id:t,className:r()(n,"OwnershipTypeBadge-module__ownedBadge___TgjGt"),iconClassName:"OwnershipTypeBadge-module__ownedIcon___XxnUs"});case d.Gamepass:return(0,o.jsx)(u.r,{id:t,className:r()(n,"OwnershipTypeBadge-module__gamepassBadge___KdQfj"),iconClassName:"OwnershipTypeBadge-module__gamepassIcon___4jxjK"});case d.F2P:case d.None:default:return null}}},11181:(e,t,n)=>{n.d(t,{M:()=>r});n(47010);var o=n(14041),i=n(8690);const r=e=>{const[t,n]=(0,o.useState)((()=>(0,i.j)().getIsDialogOpen(e)));return(0,o.useEffect)((()=>{const{subscribe:t,getIsDialogOpen:o}=(0,i.j)();return t((()=>{n(o(e))}),!0)}),[e]),t}},14506:(e,t,n)=>{n.d(t,{p:()=>r});var o=n(23522),i=n(16556);const r={raise:(0,o.VP)(i.H.FatalError,"FATAL_ERROR_ACTION",(e=>({error:e})))}},16798:(e,t,n)=>{n.d(t,{R:()=>A});var o=n(41506),i=n.n(o),r=n(67996),s=n.n(r),a=n(31085),c=n(79384),l=n(53373),d=n.n(l),u=n(14041),m=(n(98376),n(14293),n(89789));const _=Number("24px".replace("px","")),p=Number("28px".replace("px","")),v=Number("40px".replace("px","")),f=[{mediaQuery:m.Mu,size:{width:p},imageType:"jpg"}],h={size:{width:v},imageType:"jpg"},x={size:{width:_},imageType:"jpg"};var g=n(52897),C=n(89407),T=n(30961),S=n(68219);const N=["defaultImageSize","tvImageSize"],A=({className:e,mode:t,src:n,attributedView:o})=>{const i=(0,g.Gu)(),{isTV:r}=(0,T.U)(),{cx:s,cy:c,r:l}=(0,u.useMemo)((()=>r?{cx:54,cy:54,r:23}:i>=C.EA.Medium?{cx:34,cy:34,r:16}:{cx:30,cy:30,r:14}),[i,r]);return(0,a.jsxs)("div",{className:d()("NotificationAttributedImage-module__container___YbYd6",e),children:[(0,a.jsxs)("svg",{className:"NotificationAttributedImage-module__size___43FPc","aria-hidden":!0,children:[(0,a.jsxs)("mask",{id:"holepunch",children:["circle"===t&&(0,a.jsx)("circle",{fill:"white",cx:"50%",cy:"50%",r:"50%"}),"rounded-rect"===t&&(0,a.jsx)("rect",{fill:"white",width:"100%",height:"100%",rx:"4"}),(0,a.jsx)("circle",{className:"NotificationAttributedImage-module__maskCircle___NT2kP",cx:s,cy:c,r:l})]}),(0,a.jsx)("g",{mask:"url(#holepunch)",children:(0,a.jsx)("image",{x:"0",y:"0",height:"100%",preserveAspectRatio:"xMidYMid slice",width:"100%",xlinkHref:n})})]}),(0,a.jsx)("div",{className:"NotificationAttributedImage-module__pinnedChildContainer___XYveT",children:o})]})};A.AttributedIcon=({icon:e})=>(0,a.jsx)("div",{className:"NotificationAttributedImage-module__attributedIconContainer___fsVL2",children:(0,a.jsx)(c.In,{className:"NotificationAttributedImage-module__icon___I9+XX",icon:e,iconSize:c.lK.Custom})}),A.AttributedGamerPic=e=>{let{defaultImageSize:t,tvImageSize:n}=e,o=s()(e,N);return(0,a.jsx)(S.l,i()(i()({},o),{},{className:d()("NotificationAttributedImage-module__attributedGamerPic___5iuc1",o.className),constraints:f,defaultConstraint:x,tvConstraint:h}))}},17109:e=>{e.exports=JSON.parse('{"aD":"Sat May 24 2025 15:08:21 GMT+0000 (Coordinated Universal Time)","ui":"608de8fb1f","rE":"29.2.7"}')},22082:(e,t,n)=>{n.d(t,{d:()=>r});n(69375),n(81045),n(55367);var o=n(57361),i=n(68220);const r=e=>{const t=(0,i.d9)(e);return(null!==t&&void 0!==t?t:[]).reduce(((e,t)=>{const n=(0,o.getDataOrPrevious)(t);return n&&n.gamerpicUrl&&n.gamertag&&e.push({src:n.gamerpicUrl,id:n.xuid}),e}),[])}},22382:(e,t,n)=>{n.d(t,{P:()=>m});var o=n(31085),i=n(33300),r=n(87309),s=n(15387),a=n(74093),c=n(88055),l=n(16798),d=n(55817),u=n(46046);const m=({mode:e,payload:t,onClick:n})=>{var m;if(!(0,s.G_)(r.H.EnableParties))return null;const _=(0,o.jsx)(l.R,{mode:"rounded-rect",src:null!==(m=t.actor.gamerpic)&&void 0!==m?m:"",attributedView:(0,o.jsx)(l.R.AttributedIcon,{icon:i.A})}),p=t.expirationDateMS<Date.now()?"Notification_Party_Invite_Expired":"Notification_Party_Invite",v=(0,o.jsx)(a.c,{className:d.WY,locKey:p,locComponentParts:[(0,o.jsx)("b",{className:d.JF,children:t.actor.gamertag.uniqueGamertag},t.actor.xuid)]});switch(e.kind){case"toast":return(0,o.jsx)(u.y,{id:e.toastId,className:d.N4,attributeComponent:_,textComponent:v,onShortcutPressed:n});case"notification":return(0,o.jsx)("div",{className:d.fV,children:(0,o.jsx)(c.E,{notification:t,attributeComponent:_,textComponent:v,onClick:n})})}}},24162:(e,t,n)=>{n.d(t,{F:()=>d,v:()=>u});n(81045),n(30163),n(45950),n(47010);var o=n(57361),i=n(14041),r=n(15387),s=n(47214),a=n(24013),c=n(87309),l=n(99412);const d=e=>{const[,t]=(0,s.x)(e),n=(0,r.G_)(c.H.IsTakehomeUser),a=(0,i.useMemo)((()=>(0,o.lceTransform)(t,(e=>!!e&&(0,l.VZ)(e,n)))),[t,n]);return(0,o.useLce)(a)},u=(e=[])=>{const[,t]=(0,a.I)(e),n=(0,r.G_)(c.H.IsTakehomeUser),s=(0,i.useMemo)((()=>(0,o.lceTransform)(t,(t=>e.filter((e=>{const o=t.find((t=>t.productId===e));return!!o&&(0,l.VZ)(o,n)}))))),[t,e,n]);return(0,o.useLce)(s)}},24392:(e,t,n)=>{n.d(t,{$:()=>u});n(69375);var o=n(31085),i=n(79384),r=n(14041),s=n(94787),a=n(74093),c=n(88055),l=n(55817),d=n(46046);const u=({payload:e,mode:t,onClick:n})=>{const u="toast"===t.kind?(0,o.jsx)(d.y.GamerPic,{xuid:e.actor.xuid,size:i.Ow.Small}):(0,o.jsx)(c.E.GamerPic,{xuid:e.actor.xuid}),{locKey:m,locComponentParts:_}=(0,r.useMemo)((()=>{let n;const i=[(0,o.jsx)("b",{children:e.actor.gamertag.uniqueGamertag},e.actor.xuid)];return"toast"===t.kind?n="Notification_Accept_FriendRequest_Toast":0===e.additionalFriendRequests?n="Notification_Accepted_FriendRequest":1===e.additionalFriendRequests?n="Notification_Grouped_Accepted_FriendRequests_Singular":(n="Notification_Grouped_Accepted_FriendRequests_Multiple",i.push(e.additionalFriendRequests)),{locKey:n,locComponentParts:i}}),[t.kind,e.actor.gamertag.uniqueGamertag,e.actor.xuid,e.additionalFriendRequests]),p=(0,o.jsx)(a.c,{className:l.WY,locKey:m,locComponentParts:_});switch(t.kind){case"toast":return(0,o.jsx)(s.C9,{location:"Toast",children:(0,o.jsx)(d.y,{id:t.toastId,className:l.eB,attributeComponent:u,textComponent:p,onShortcutPressed:n})});case"notification":return(0,o.jsx)(s.C9,{location:"Notification",children:(0,o.jsx)("div",{className:l.fV,children:(0,o.jsx)(c.E,{notification:e,attributeComponent:u,textComponent:p,onClick:n})})})}}},25587:(e,t,n)=>{n.d(t,{J4:()=>d,MW:()=>u,d1:()=>l,iD:()=>c});var o=n(23522),i=n(16556);const r={START:"@xHome/LOGIN_START",SUCCESS:"@xHome/LOGIN_SUCCESS",ERROR:"@xHome/LOGIN_ERROR"},s={START:"@xHome/HYDRATE_USER_START",SUCCESS:"@xHome/HYDRATE_USER_SUCCESS",ERROR:"@xHome/HYDRATE_USER_ERROR"},a={START:"@xHome/FETCH_CONSOLES_START",SUCCESS:"@xHome/FETCH_CONSOLES_SUCCESS",ERROR:"@xHome/FETCH_CONSOLES_ERROR"},c=(0,o.vR)(i.H.XHome,r.START,(()=>{}),r.SUCCESS,(e=>({user:e})),r.ERROR,(e=>({error:e}))),l=(0,o.vR)(i.H.XHome,s.START,(e=>({serializedUser:e})),s.SUCCESS,(e=>({user:e})),s.ERROR,(e=>({error:e}))),d=(0,o.vR)(i.H.XHome,a.START,(()=>{}),a.SUCCESS,(e=>({consoles:e})),a.ERROR,((e,t)=>({error:e,consoles:t}))),u=[c.error.getType(),c.success.getType(),l.success.getType()]},32360:(e,t,n)=>{n.d(t,{T:()=>l});var o=n(41506),i=n.n(o),r=(n(97107),n(1402),n(10865),n(10568),n(47748),n(86741),n(81045),n(5350),n(47010),n(83165),n(24541),n(34397),n(14041)),s=n(59724),a=n(95505),c=n(70112);const l=({isDeveloperMode:e,payload:t,onError:n,onTelemetry:o,onUserGestureRequired:l,sanitizeQueryStrings:d=!0,tracking:u})=>{var m,_,p;const v=(0,s.n)(),f=(0,r.useMemo)((()=>{var o;if(!t.url||null!==(o=t.url)&&void 0!==o&&o.startsWith("/")||v||!("URL"in globalThis))return null===n||void 0===n||n(new Error("Unable to sanitize URL")),"";const i=new URL(t.url);let r="";if("URLSearchParams"in globalThis){const t=new URLSearchParams;if(d&&i.searchParams.forEach(((n,o)=>{n&&e&&a.T8.includes(o)&&t.append(o,n)})),u){const{correlationVector:e,location:n,productId:o}=u;if(t.append("experience","share-link"),t.append("utm_source","xboxcom-play"),t.append("utm_medium","share"),t.append("originating-cv",e.getBase()),n){let e=n;o&&(e+=`-${o}`),t.append("utm_campaign",`${e}`)}}r=t.toString()?`?${t.toString()}`:""}return`${i.origin}${i.pathname}${r}`}),[e,v,n,t.url,d,u]),h=!v&&!!f&&!(!t.title&&!t.text)&&null!=(null===(m=globalThis.navigator)||void 0===m?void 0:m.share)&&(null===(_=globalThis.navigator)||void 0===_||null===(p=_.canShare)||void 0===p?void 0:p.call(_,t)),x=(0,r.useCallback)((()=>{if(!h){const e=new Error("Unable to share payload");return Promise.resolve(null===n||void 0===n?void 0:n(e))}const e=new URL(f),r=()=>{var n,r;return null===(n=globalThis.navigator)||void 0===n||null===(r=n.share)||void 0===r?void 0:r.call(n,i()(i()({},t),{},{url:f})).then((t=>{null===o||void 0===o||o({name:c.b.ShareLink,host:e.origin,path:e.pathname})}))};return r().catch((e=>{if("NotAllowedError"!==e.name||!l)throw e;l(r)})).catch((e=>null===n||void 0===n?void 0:n(e)))}),[h,l,n,o,t,f]);return{canShare:h,url:f,onShare:x}}},33385:(e,t,n)=>{var o;n.d(t,{J:()=>o}),function(e){e[e.None=0]="None",e[e.Legacy=1]="Legacy",e[e.Modern=2]="Modern"}(o||(o={}))},33646:(e,t,n)=>{n.d(t,{Q:()=>u});n(69375);var o=n(31085),i=n(79384),r=n(14041),s=n(94787),a=n(74093),c=n(88055),l=n(55817),d=n(46046);const u=({payload:e,mode:t,onClick:n})=>{const u="toast"===t.kind?(0,o.jsx)(d.y.GamerPic,{xuid:e.actor.xuid,size:i.Ow.Small}):(0,o.jsx)(c.E.GamerPic,{xuid:e.actor.xuid}),{locKey:m,locComponentParts:_}=(0,r.useMemo)((()=>{let t;const n=[(0,o.jsx)("b",{children:e.actor.gamertag.uniqueGamertag},e.actor.xuid)];return 0===e.additionalFriendRequests?t="Notification_Incoming_FriendRequest":1===e.additionalFriendRequests?t="Notification_Grouped_Incoming_FriendRequests_Singular":(t="Notification_Grouped_Incoming_FriendRequests_Multiple",n.push(e.additionalFriendRequests)),{locKey:t,locComponentParts:n}}),[e]),p=(0,o.jsx)(a.c,{className:l.WY,locKey:m,locComponentParts:_});switch(t.kind){case"toast":return(0,o.jsx)(s.C9,{location:"Toast",children:(0,o.jsx)(d.y,{id:t.toastId,className:l.eB,attributeComponent:u,textComponent:p,onShortcutPressed:n})});case"notification":return(0,o.jsx)(s.C9,{location:"Notification",children:(0,o.jsx)("div",{className:l.fV,children:(0,o.jsx)(c.E,{notification:e,attributeComponent:u,textComponent:p,onClick:n})})})}}},34242:(e,t,n)=>{n.d(t,{P:()=>s,y:()=>a});n(97107),n(47010);var o=n(31085),i=n(14041);const r=(0,i.createContext)(void 0);r.displayName="ContextMenus";const s=()=>{const e=(0,i.useContext)(r);if(!e)throw new Error("This hook can only be used by components wrapped under <ContextMenuDialogProvider>...</ContextMenuDialogProvider>");return e},a=({children:e})=>{const[t,n]=(0,i.useState)(),[s,a]=(0,i.useState)(),c=(0,i.useMemo)((()=>({content:t,setContent:n,itemRef:s,setItemRef:a})),[t,s]);return(0,o.jsx)(r.Provider,{value:c,children:e})}},37551:(e,t,n)=>{var o;n.d(t,{U:()=>o}),function(e){e.Card="card",e.Content="content",e.Information="information",e.PendingContent="pendingContent"}(o||(o={}))},39689:(e,t,n)=>{n.d(t,{A:()=>l,H:()=>a});n(97107);var o=n(37509),i=n(41178),r=n(14506),s=n(16556);class a extends Error{constructor(e,t,n,o=!1){super(e),this.localizedMessage=t,this.localizedDescription=n,this.isUserError=o}}const c={error:void 0},l=(0,o.v4G)([s.H.FatalError],new o.sVo(c).on(r.p.raise.getType(),((e,{error:t})=>(0,i.jM)(e,(e=>{e.error=t})))).build())},40612:(e,t,n)=>{n.d(t,{v:()=>i});n(47010);var o=n(14041);const i=e=>{const[t,n]=(0,o.useState)(!1);(0,o.useEffect)((()=>{if(!t)return void n(!0);let o;const i=setTimeout((()=>{o=requestAnimationFrame(e)}),0);return()=>{clearTimeout(i),cancelAnimationFrame(o)}}),[e,t])}},42672:(e,t,n)=>{n.d(t,{Fz:()=>m,JD:()=>u});var o=n(57361),i=n(14041),r=n(34721),s=n(84719),a=n(33385);const c=e=>(t,n,c=a.J.Modern)=>{const{useSelector:l,useDispatch:d,useStore:u}=(0,i.useContext)(e),m=(0,s.n)("achievements",e),_=null===m||void 0===m?void 0:m.selectors,p=(0,i.useCallback)((e=>t&&n&&_?_.getUserAchievementsForTitle(e,t,n):o.LCE_NOT_REQUESTED),[_,t,n]),v=(0,i.useMemo)((()=>{if(t&&n&&m)return m.actions.getTitleAchievements.start(t,n,c)}),[m,t,n,c]);return(0,o.useLceWithConditions)((0,r.r)(m,p,t&&n&&m?v:void 0,void 0,{useSelector:l,useDispatch:d,useStore:u}),{notRequested:!t||!n})},l=e=>t=>{const{useSelector:n,useDispatch:a,useStore:c}=(0,i.useContext)(e),l=(0,s.n)("achievements",e),d=null===l||void 0===l?void 0:l.selectors,u=(0,i.useMemo)((()=>d?d.getUserRecentAchievements:()=>o.LCE_NOT_REQUESTED),[d]),m=(0,i.useCallback)((e=>u(e,t)),[u,t]),_=(0,i.useMemo)((()=>l?l.actions.getRecentAchievements.start(t):void 0),[l,t]);return(0,r.r)(l,m,_,void 0,{useSelector:n,useDispatch:a,useStore:c})};var d=n(20418);const{useRecentAchievements:u,useAchievementsForTitle:m}=(_=d.Ie,{useRecentAchievements:l(_),useAchievementsForTitle:c(_)});var _},43199:(e,t,n)=>{n.d(t,{l:()=>i,y:()=>r});var o=n(51466);const i=e=>((0,o.A)(e,"userAdded"),(0,o.A)(e,"userRemoved"),(0,o.A)(e,"userMuted"),(0,o.A)(e,"userUnmuted"),(0,o.A)(e,"voiceActivityChanged"),(0,o.A)(e,"userSelfMuteChanged"),e.getPartyMembers()),r=e=>((0,o.A)(e,"userAdded"),(0,o.A)(e,"userRemoved"),e.getPreviousAndCurrentPartyMemberXuids())},49345:(e,t,n)=>{n.d(t,{e:()=>i});var o=n(31085);const i=({condition:e,wrapper:t,children:n})=>e?t(n):(0,o.jsx)(o.Fragment,{children:n})},51466:(e,t,n)=>{n.d(t,{A:()=>i});n(47010);var o=n(3093);function i(e,t,n){const[i,r]=(0,o.useEventListener)(e,t,n);return[i,r]}},55277:(e,t,n)=>{var o;n.d(t,{C:()=>o}),function(e){e.OneToOne="OneToOne",e.Group="Group"}(o||(o={}))},55714:(e,t,n)=>{n.d(t,{Bd:()=>a,S7:()=>s,cL:()=>r});var o=n(23522),i=n(16556);const r=(0,o.VP)(i.H.FamilySafetyStatus,"RESET",(()=>({}))),s=r(),a=(0,o.vR)(i.H.FamilySafetyStatus,"FETCH_FAMILY_SAFETY_STATUS_START",(e=>({productId:e})),"FETCH_FAMILY_SAFETY_STATUS_SUCCESS",((e,t)=>({productId:e,status:t})),"FETCH_FAMILY_SAFETY_STATUS_ERROR",((e,t)=>({productId:e,error:t})))},55807:(e,t,n)=>{n.d(t,{X5:()=>l,z1:()=>c});n(47010);var o=n(8572),i=n(66957),r=n(14041),s=n(56136),a=n(47214);const c=(e,t,n)=>{const[c]=(0,a.x)(e,s._.Detailed),l=(0,i.useUniqueLogger)("useResizedProductTitleImageUrl");return(0,r.useMemo)((()=>{if((null===c||void 0===c?void 0:c.detailLevel)===s._.Detailed&&c.tileImageUrl)try{return(0,o.getResizeUrl)(c.tileImageUrl,t,n)}catch(e){return l.warn("Failed to get resize url for tile image",e,{url:c.tileImageUrl,productInfo:c}),c.tileImageUrl}}),[c,t,n,l])};const l=(e,t)=>{const[n]=(0,a.x)(e,function(e){return["posterImageUrl","tileImageUrl"].includes(e)?s._.Basic:s._.Detailed}(t));return null===n||void 0===n?void 0:n[t]}},58003:(e,t,n)=>{n.d(t,{Ws:()=>h,E$:()=>f,QK:()=>x,qQ:()=>T,y9:()=>C});n(81045),n(45950),n(47010);var o=n(14041),i=(n(30163),n(57361)),r=n(69617),s=n(34721),a=n(84719);const c=e=>()=>{const{useSelector:t,useDispatch:n,useStore:c}=(0,o.useContext)(e),l=(0,a.n)("notificationInbox",e),d=null===l||void 0===l?void 0:l.notificationInboxSelectors,u=(0,r.Jd)(),m=null===u||void 0===u?void 0:u.xuid,_=(0,o.useMemo)((()=>{if(!l||!m)return;const e=[l.notificationType.GameInvite,l.notificationType.PartyInvite,l.notificationType.AchievementUnlock,l.notificationType.GroupedFollowers,l.notificationType.AcceptedFriendRequests,l.notificationType.IncomingFriendRequests];return l.actions.getNotifications.start(m,e,!0,25)}),[m,l]);return(0,s.r)(l,(e=>d?d.getNotificationsLCE(e):i.LCE_NOT_REQUESTED),_,void 0,{useSelector:t,useDispatch:n,useStore:c})},l=e=>t=>{const n=(0,a.n)("notificationInbox",e),r=(0,o.useMemo)((()=>c(e)),[]),[,s]=r(),l=(0,i.lceTransform)(s,(e=>{if(!e||!n)return[];const o=Date.now();return e.filter((e=>e.type===n.notificationType.GameInvite&&e.expirationDateMS>o&&(!t||t(e))))}));return(0,i.useLce)(l)},d=e=>{const t=l(e);return e=>{const[n]=t();return(0,o.useMemo)((()=>(null!==n&&void 0!==n?n:[]).find((t=>t.handleId===e))),[n,e])}},u=e=>t=>{const n=(0,a.n)("notificationInbox",e),r=(0,o.useMemo)((()=>c(e)),[]),[,s]=r(),l=(0,i.lceTransform)(s,(e=>{if(!e||!n)return[];const o=Date.now();return e.filter((e=>e.type===n.notificationType.PartyInvite&&e.expirationDateMS>o&&(!t||t(e))))}));return(0,i.useLce)(l)};n(84915);var m=n(19183);const _=e=>{const t=c(e);return()=>{const{useDispatch:n}=(0,o.useContext)(e),i=n(),s=(0,a.n)("notificationInbox",e),[c]=t(),l=(0,o.useMemo)((()=>c?c.map((e=>e.serviceIdentifier)):[]),[c]),d=(0,r.Jd)(),u=null===d||void 0===d?void 0:d.xuid,_=(0,o.useCallback)((e=>{if(s&&u)switch(e){case"mark-read":return void i(s.actions.markNotificationsAsRead.start(u,l));case"delete":return void i(s.actions.deleteNotifications.start(u,l))}}),[i,s,u,l]);return(0,m.I)(_,!!s&&!!u)}},p=e=>()=>{const{useDispatch:t}=(0,o.useContext)(e),n=t(),i=(0,a.n)("notificationInbox",e),s=(0,r.Jd)(),c=null===s||void 0===s?void 0:s.xuid;return(0,o.useCallback)(((e,t)=>{if(i&&c)switch(t){case"seen":if(e.seen)return;return void n(i.actions.markNotificationsAsSeen.start(c,[e.serviceIdentifier]));case"read":if(e.markedRead)return;return void n(i.actions.markNotificationsAsRead.start(c,[e.serviceIdentifier]));case"delete":return void n(i.actions.deleteNotifications.start(c,[e.serviceIdentifier]))}}),[n,i,c])};var v=n(20418);const{useNotifications:f,useGameInvites:h,usePartyInvites:x,useGameInviteById:g,useProcessNotification:C,useProcessAllNotifications:T}=(S=v.Ie,{useNotifications:c(S),usePartyInvites:u(S),useGameInvites:l(S),useGameInviteById:d(S),useProcessNotification:p(S),useProcessAllNotifications:_(S)});var S},58592:(e,t,n)=>{n.d(t,{h:()=>u});var o=n(31085),i=n(79384),r=n(55807),s=n(74093),a=n(88055),c=n(16798),l=n(55817),d=n(46046);const u=({mode:e,payload:t,onClick:n})=>{const u=(0,r.z1)(t.productId,128,128),m=(0,o.jsx)(c.R,{mode:"rounded-rect",src:u,attributedView:(0,o.jsx)(c.R.AttributedGamerPic,{xuid:t.actor.xuid,size:i.Ow.Small})}),_=(0,o.jsx)(s.c,{className:l.WY,locKey:"Notification_Game_Invite",locComponentParts:[(0,o.jsx)("b",{className:l.JF,children:t.actor.gamertag.uniqueGamertag},t.actor.xuid),(0,o.jsx)("b",{className:l.JF,children:t.titleName},t.titleName)]});switch(e.kind){case"toast":return(0,o.jsx)(d.y,{id:e.toastId,className:l.N4,attributeComponent:m,textComponent:_,onShortcutPressed:n});case"notification":return(0,o.jsx)("div",{className:l.fV,children:(0,o.jsx)(a.E,{notification:t,attributeComponent:m,textComponent:_,onClick:n})})}}},58712:(e,t,n)=>{n.d(t,{a:()=>h});var o=n(41506),i=n.n(o),r=(n(47010),n(57361)),s=n(14041),a=n(1911),c=n(87309),l=n(53649),d=n(15387),u=n(47214),m=(n(47748),n(1928)),_=n(52003),p=n(56136),v=n(99412);const f=(e,t,n)=>{if(!e)return!1;const o=(0,v.Z7)(e,n).includes("xgpuweb");return!!t&&(0,v.Z7)(e,n).includes(t)||o},h=(e,t)=>{const[,n]=((e,t)=>{const[,n]=(0,u.x)(e,t),[,o]=(0,l.sv)(e),i=(0,s.useMemo)((()=>(0,r.lceTransform)((0,r.lceMerge)(n,o),(([e,t])=>({productInfo:null!==e&&void 0!==e?e:null,entitlement:null!==t&&void 0!==t?t:null})))),[n,o]);return(0,r.useLce)(i)})(e,t),o=(0,d.G_)(c.H.EnableBYOG),v=(0,a.N)(),h=(0,s.useMemo)((()=>(0,r.lceTransform)(n,(e=>{var t,n,r,s,a;const c=((e,t)=>f(e,t,"GPULTIMATE"))(null===(t=e.productInfo)||void 0===t?void 0:t.offerings,v),l=((e,t)=>f(e,t,"BYOG"))(null===(n=e.productInfo)||void 0===n?void 0:n.offerings,v),d=((e,t)=>f(e,t,"EARLYACCESS"))(null===(r=e.productInfo)||void 0===r?void 0:r.offerings,v),{isProductPurchasable:u,productHasEditions:h}=((e,t)=>e&&e.detailLevel===p._.Detailed?{isProductPurchasable:t&&null!==e.anonymousPrice.msrp,productHasEditions:!!(e.compareEditions&&e.compareEditions.length>0)}:{isProductPurchasable:!1,productHasEditions:!1})(e.productInfo,l),x=!(null===(s=e.entitlement)||void 0===s||!s.HasPurchased),g=(({isFeatureByogEnabled:e,isProductInByog:t,isProductPurchased:n,isProductInXgpu:o,productId:i})=>!0===e&&t&&n?m.s.Owned:o?m.s.Gamepass:(0,_.bD)(i)?m.s.F2P:m.s.None)({isFeatureByogEnabled:o,isProductInByog:l,isProductPurchased:x,isProductInXgpu:c,productId:null===(a=e.productInfo)||void 0===a?void 0:a.productId});return i()(i()({},e),{},{isProductPurchased:x,isProductInByog:l,isProductInXgpu:c,isProductInEarlyAccess:d,isProductPurchasable:u,productHasEditions:h,ownershipBadgeType:g})}))),[v,o,n]);return(0,r.useLce)(h)}},65701:(e,t,n)=>{n.d(t,{d:()=>r});n(47010);var o=n(37509),i=n(93441);const r=(e,t=Date.now(),n=!1,r=!0)=>{const[s,a,c,l,d,u,m,_,p,v,f,h,x,g,C,T,S]=(0,i.cG)("Time_Now","Time_Ago","Time_One_Minute","Time_Minutes","Time_Minutes_Short","Time_One_Hour","Time_Hours","Time_Hours_Short","Time_One_Day","Time_Days","Time_Days_Short","Time_One_Month","Time_Months","Time_Months_Short","Time_One_Year","Time_Years","Time_Years_Short");if(!e)return null;const N=Math.floor((t-e)/1e3),A=Math.floor(N/60),E=Math.floor(A/60),R=Math.floor(E/24),I=Math.floor(R/30),y=Math.floor(R/365);let b="",j=!1;if(N<0)return null;if(N<45)b=s,j=!0;else if(N<90)b=n?(0,o.GPZ)(d,"1"):c;else if(A<45){const e=A>1?A:2;b=(0,o.GPZ)(n?d:l,String(e))}else if(A<90)b=n?(0,o.GPZ)(_,"1"):u;else if(E<22){const e=E>1?E:2;b=(0,o.GPZ)(n?_:m,String(e))}else if(E<36)b=n?(0,o.GPZ)(f,"1"):p;else if(R<26){const e=R>1?R:2;b=(0,o.GPZ)(n?f:v,String(e))}else if(R<46)b=n?(0,o.GPZ)(g,"1"):h;else if(R<320){const e=I>1?I:2;b=(0,o.GPZ)(n?g:x,String(e))}else if(R<548)b=n?(0,o.GPZ)(S,"1"):C;else{const e=y>1?y:2;b=(0,o.GPZ)(n?S:T,String(e))}return r&&!j?(0,o.GPZ)(a,b):b}},66924:(e,t,n)=>{n.d(t,{d:()=>s,i:()=>r});var o=n(23522),i=n(16556);const r=(0,o.vR)(i.H.Notifications,"SET_DISMISSED_NOTIFICATIONS",(e=>({dismissedNotifications:e})),"SET_DISMISSED_NOTIFICATIONS_SUCCESS",(e=>({dismissedNotifications:e})),"SET_DISMISSED_NOTIFICATIONS_FAILURE",(e=>({error:e}))),s=(0,o.VP)(i.H.Notifications,"CACHE_UNLOCKED_ACHIEVEMENT",((e,t)=>({titleId:e,achievementId:t})))},70499:(e,t,n)=>{n.d(t,{S:()=>g});n(47010);var o=n(31085),i=n(39731),r=n(79384),s=n(24031),a=n(53373),c=n.n(a),l=n(14041),d="Notification-module__optionsButtonOnFocus___OKYQR",u="Notification-module__solidBackplate___FgrBO",m=n(80455),_=n(64207),p=n(46494),v=n(65701),f=n(93441),h=n(83148),x=n(78469);const g=(0,l.forwardRef)((({className:e,status:t,mainContentClassName:n,timestamp:a,attributeComponent:x,textComponent:g,options:C,onClick:T},S)=>{const N=(0,f.FE)("More_Options"),A=(0,v.d)(a,Date.now(),!0,!1),[E,R]=(0,l.useState)(!1),[I,y]=(0,l.useState)(!1),b=(0,l.useRef)(null),j=(0,l.useMemo)((()=>({button:"menu",action:()=>y(!0),label:N,sound:_.AB.OverlayIn})),[N]),{addAccelerator:P,removeAccelerator:w}=(0,m.O)(j);return(0,o.jsx)(h.t,{actions:C,hideSwipeActionLabels:!0,enableRightClickToRevealActions:!0,dropdownClassName:"Notification-module__dropdown___9hUMZ",isPopupOptionsOpen:I,setIsPopupOptionsOpen:y,children:(0,o.jsxs)(i.FocusGroup,{className:"Notification-module__notificationContainer___00fYz",onEnter:()=>R(!0),onExit:()=>R(!1),children:[(0,o.jsxs)(r.Xg,{as:"button",className:c()(e,"Notification-module__outerContainer___kadMQ",{[u]:"new"===t||"unread"===t}),ref:S,onClick:T,onFocus:P,onBlur:w,children:[(0,o.jsxs)("div",{className:c()(n,"Notification-module__container___EN7dL"),children:["new"===t&&(0,o.jsx)("div",{className:"Notification-module__whiteDot___O0CfT"}),x,(0,o.jsx)("div",{className:"Notification-module__textContainer___I9fJ-",children:g})]}),null!=A&&!I&&!E&&(0,o.jsx)("div",{className:"Notification-module__readableTime___PtxYP",children:A})]}),(0,o.jsx)(r.mS,{as:"button",ref:b,"data-action-type":p.y.OverlayIn,"aria-label":N,className:c()("Notification-module__optionsButton___8EHsR",{[d]:E}),icon:s.A,buttonType:r.VQ.Tertiary,onClick:()=>y(!0),"aria-haspopup":"true","aria-controls":"menu"})]})})}));g.GamerPic=x.l},72878:(e,t,n)=>{n.d(t,{$:()=>a});var o=n(31085),i=n(16890),r=n(93441),s=n(97436);const a=()=>{const e=(0,r.FE)("GuideInvite_Success");return(0,o.jsx)(s.I,{icon:i.A,textComponent:e,hideDismissButton:!0})}},73885:(e,t,n)=>{function o(e){return e.seen?e.markedRead?"read":"unread":"new"}n.d(t,{B:()=>o})},74099:(e,t,n)=>{n.d(t,{Br:()=>o,FG:()=>s,MH:()=>r,Vo:()=>i});const o="fullscreen",i="standalone",r="viewport-fit=cover, width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no",s="viewport-fit=cover, width=device-width, initial-scale=1.0, maximum-scale=2.0"},80102:(e,t,n)=>{n.d(t,{BY:()=>c,Gr:()=>_,Oc:()=>m,V6:()=>p,Wo:()=>l,hP:()=>s,mW:()=>d,sw:()=>u});var o=n(57361),i=n(85116),r=n(69607);function s(e){var t;return null!==(t=(0,r.tL)(e).consoles)&&void 0!==t?t:o.LCE_NOT_REQUESTED}const a=[];function c(e){var t;const n=s(e);return null!==(t=(0,o.getDataOrPrevious)(n))&&void 0!==t?t:a}function l(e){var t;return null!==(t=(0,r.tL)(e)[i.TT])&&void 0!==t?t:o.LCE_NOT_REQUESTED}function d(e){return(0,o.getDataOrPrevious)(l(e))}function u(e){const t=l(e);return(0,o.isError)(t)&&t.error||void 0}function m(e){const t=l(e);return(0,o.isFetching)(t)}function _(e){return(0,o.getDataOrPrevious)(function(e){return(0,r.tL)(e).serializedUser}(e))}function p(e){return!1===(0,o.isNotRequested)(l(e))}},83148:(e,t,n)=>{n.d(t,{t:()=>R});n(81045),n(30163);var o=n(31085),i=n(18776),r=n(53373),s=n.n(r),a=n(14041),c=n(41506),l=n.n(c),d=(n(84915),n(47010),n(79384)),u=n(72459),m=(n(98376),n(14293),"SwipeToRevealActions-module__actionDefault___7HvSI"),_="SwipeToRevealActions-module__actionDestructive___kknL6",p="SwipeToRevealActions-module__touchDeviceDropdownContainer___ri+l9",v="SwipeToRevealActions-module__transformTransition___jmJgj";const f=Number("4px".replace("px",""));function h(e){return 0===e?"":`translateX(${e}px)`}var x=n(41243);const g=({children:e,actions:t,hideSwipeActionLabels:n})=>{const i=(0,a.useRef)("collapsed"),r=(0,a.useRef)(null),c=(0,a.useRef)(null),p=(0,a.useRef)(0),g=(0,a.useRef)(null),[C,T]=(0,a.useState)([]),S=(0,a.useRef)(0),N=(0,a.useRef)();(0,a.useEffect)((()=>{T((e=>Array(t.length).fill(0).map(((t,n)=>e[n]||(0,a.createRef)()))))}),[t]);const A=e=>{let t=e;const n=p.current;t<-n&&(t=-n-Math.log2(Math.max(Math.abs(e)-n,1))),N.current&&cancelAnimationFrame(N.current),N.current=requestAnimationFrame((()=>{r.current&&(r.current.style.transform=h(t)),(e=>{const t=C.map((e=>e.current)),n=p.current,o=1+Math.max(e/n,-1),i=e;for(const r of t)r.style.transform=h(i-r.offsetLeft*o)})(t)}))},E=(0,x.D)(),R=(0,u.uh)({trackMouse:E,onSwipeStart:()=>{c.current&&(p.current=c.current.clientWidth-f*C.length),S.current=(()=>{if(g.current&&r.current){const e=r.current.getBoundingClientRect(),t=g.current.getBoundingClientRect();return e.left-t.left-g.current.clientLeft}return 0})()},onSwiping:e=>{const t=e.deltaX+S.current;A(t>0?0:t)},onSwiped:e=>{const t=e.deltaX+S.current;if(t>0&&"collapsed"===i.current)return;const n=p.current/2;Math.abs(t)>=n&&"Left"===e.dir?(A(-p.current),i.current="expanded"):(A(0),i.current="collapsed")}}),I=(0,a.useCallback)((e=>{R.ref(e),g.current=e}),[R]);return(0,o.jsxs)("div",l()(l()({},R),{},{className:"SwipeToRevealActions-module__swipeContainer___+SUVd",ref:I,children:[(0,o.jsx)("div",{className:"SwipeToRevealActions-module__rightActionContainer___v+fyO",ref:c,children:t.map((({label:e,onClick:t,icon:i,type:r="default"},a)=>(0,o.jsxs)(d.SC,{"aria-hidden":!0,tabIndex:-1,as:"button",className:s()("SwipeToRevealActions-module__actionItem___0jZlm",v,{[_]:"destructive"===r,[m]:"default"===r}),ref:C[a],onClick:()=>{A(0),t()},children:[i&&(0,o.jsx)(d.In,{iconSize:d.lK.Small,icon:i}),!n&&(0,o.jsx)("div",{className:"SwipeToRevealActions-module__actionText___d1MlY",children:e})]},e)))}),(0,o.jsx)("div",{ref:r,className:v,children:e})]}))},C=e=>e.map((e=>e.showIconOnPopup?e:l()(l()({},e),{},{icon:void 0})));var T=n(77320),S=n(76376),N=n(93441),A=n(49345),E=n(87813);const R=({actions:e,children:t,enableRightClickToRevealActions:n=!0,className:r,dropdownClassName:c,acceleratorOptions:l,hideSwipeActionLabels:d=!1,isPopupOptionsOpen:u,setIsPopupOptionsOpen:m})=>{const _=(0,a.useRef)(null),v=(0,N.FE)("More"),f=!0===(0,S.B)(),h=(0,x.D)(),R=(0,a.useCallback)((e=>{m(e),null===l||void 0===l||l.setIsMenuOpen(e)}),[l,m]),I=(0,a.useCallback)((()=>R(!0)),[R]),y=(0,a.useMemo)((()=>e.filter((e=>e.icon))),[e]);return(0,o.jsxs)(o.Fragment,{children:[n&&(0,o.jsx)(T.b,{itemRef:_,callback:I}),(0,o.jsx)("div",{ref:_,className:r,children:(0,o.jsx)(A.e,{condition:f||h,wrapper:t=>{const n=0===y.length?[{label:v,icon:i.A,onClick:I,optionType:"labelButton"}]:y.length>=1&&e.length>=2?[{label:v,icon:i.A,onClick:I,optionType:"labelButton"},y[y.length-1]]:1===y.length&&1===e.length?e:[];return(0,o.jsx)(g,{actions:n,hideSwipeActionLabels:d,children:t})},children:t})}),(0,o.jsx)(E.p,{isOpen:u||!(null===l||void 0===l||!l.isMenuOpen),setIsOpen:R,dropdownClassName:c,dropdownContainerClassName:s()({[p]:f}),horizontalAlignment:"right",buttons:C(e),relativeRef:_,dimBackgroundDropdown:"light",dimBackgroundSlideSheet:"light"})]})}},85116:(e,t,n)=>{n.d(t,{Ay:()=>u,TT:()=>d});n(93510);var o=n(57361),i=n(37509),r=n(41178),s=n(25587),a=n(99249),c=n(18650),l=n(16556);const d=Symbol("streamUser");const u=(0,i.v4G)([l.H.XHome],new i.sVo({consoles:o.LCE_NOT_REQUESTED,serializedUser:o.LCE_NOT_REQUESTED,[d]:o.LCE_NOT_REQUESTED,userAcquisitionType:o.LCE_NOT_REQUESTED}).on(s.iD.start.getType(),(e=>(0,r.jM)(e,(e=>{e.serializedUser=(0,o.lceFetching)(),e[d]=(0,o.lceFetching)(),e.userAcquisitionType=(0,o.lceFetching)((0,o.lceContent)(a.pu.Login))})))).on(s.iD.success.getType(),((e,{user:t})=>(0,r.jM)(e,(e=>{e.serializedUser=(0,o.lceContent)(t.serialize()),e[d]=(0,o.lceContent)(t),e.userAcquisitionType=(0,o.lceContent)(a.pu.Login)})))).on(s.iD.error.getType(),((e,{error:t})=>(0,r.jM)(e,(e=>{const n=(0,c._)(t);e[d]=(0,o.lceError)(n),e.serializedUser=(0,o.lceError)(n),e.userAcquisitionType=(0,o.lceError)(n,(0,o.lceContent)(a.pu.Login))})))).on(s.d1.start.getType(),(e=>(0,r.jM)(e,(e=>{e[d]=(0,o.lceFetching)(),e.userAcquisitionType=(0,o.lceFetching)((0,o.lceContent)(a.pu.Hydration))})))).on(s.d1.success.getType(),((e,{user:t})=>(0,r.jM)(e,(e=>{e[d]=(0,o.lceContent)(t),e.userAcquisitionType=(0,o.lceContent)(a.pu.Hydration)})))).on(s.d1.error.getType(),((e,{error:t})=>(0,r.jM)(e,(e=>{e[d]=(0,o.lceError)(t),e.serializedUser=(0,o.lceError)(t),e.userAcquisitionType=(0,o.lceError)(t,(0,o.lceContent)(a.pu.Hydration))})))).on(s.J4.start.getType(),(e=>(0,r.jM)(e,(t=>{e.consoles&&(t.consoles=(0,o.lceFetching)(e.consoles))})))).on(s.J4.success.getType(),((e,{consoles:t})=>(0,r.jM)(e,(e=>{e.consoles=(0,o.lceContent)(t)})))).on(s.J4.error.getType(),((e,{error:t,consoles:n})=>(0,r.jM)(e,(i=>{const r=(0,c._)(t);i.consoles=(0,o.lceError)(r,n?(0,o.lceContent)(n):e.consoles)})))).build())},87994:(e,t,n)=>{n.d(t,{Z:()=>B});n(93510),n(10568),n(81045),n(45950),n(47010);var o=n(31085),i=n(20090),r=n(57106),s=n(35672),a=n(3776),c=n(66957),l=n(7463),d=n(47283),u=n(37509),m=n(14041),_=n(10651),p=n(79824),v=n(79384),f=n(77968),h=n(53373),x=n.n(h),g="PureAchievementToast-module__commonAchievement___nhMUc",C="PureAchievementToast-module__rareAchievement___fFxR4",T="PureAchievementToast-module__subtitle2___1C0ux",S=n(93441),N=n(44772),A=n(62277);const E=n.p+"static/media/common-sound.3f6eb3b2.mp3",R=n.p+"static/media/rare-intro-sound.4f6520f1.mp3",I=n.p+"static/media/rare-outro-sound.db47f97c.mp3",y=({id:e,name:t,description:n,gamerscore:i,isRare:r=!1,enableSound:s,enableExtendedDuration:a=!1,onClick:l})=>{const d=(0,c.useLogger)("PureAchievementToast"),{activeInput:u,onShortcutPressed:_}=(0,A.B)(e,l),p=(0,S.FE)("Toast_Achievement_Unlocked"),h=(0,m.useRef)(null),y=(0,m.useRef)(null),b=(0,m.useRef)(null),j=(0,m.useRef)(!1);return(0,m.useEffect)((()=>{j.current||(r?(setTimeout((()=>{var e;null===(e=h.current)||void 0===e||e.play().catch((e=>d.error("Failed to play rare intro sound",e)))}),800),setTimeout((()=>{var e;null===(e=y.current)||void 0===e||e.play().catch((e=>d.error("Failed to play rare outro sound",e)))}),a?16500:9500)):setTimeout((()=>{var e;null===(e=b.current)||void 0===e||e.play().catch((e=>d.error("Failed to play common sound",e)))}),1300),j.current=!0)}),[r,a,d]),(0,o.jsxs)("div",{className:"PureAchievementToast-module__container___24Mez","data-is-rare":r,"data-is-extended-duration":a,children:[(0,o.jsx)("div",{className:"PureAchievementToast-module__centerSection___QDn1J",children:(0,o.jsx)("div",{className:"PureAchievementToast-module__centerBorder___YT9e6"})}),(0,o.jsx)("div",{className:"PureAchievementToast-module__rightSection___PSqUN"}),r&&(0,o.jsx)("div",{className:"PureAchievementToast-module__spotlight___mnzqg"}),(0,o.jsx)("div",{className:"PureAchievementToast-module__circleC___Cj7zk","data-is-rare":r}),(0,o.jsx)("div",{className:"PureAchievementToast-module__circleB___oqEYj","data-is-rare":r}),(0,o.jsx)("div",{className:"PureAchievementToast-module__leftSectionCircleA___IPqok",children:(0,o.jsx)("div",{className:x()({[g]:!r,[C]:r}),"data-is-extended-duration":a})}),(0,o.jsxs)("div",{className:"PureAchievementToast-module__firstTextContainer___070R3",children:[(0,o.jsx)("div",{className:"PureAchievementToast-module__title3___WE-8V",children:p}),(0,o.jsxs)("div",{className:T,children:[null!=i&&(0,o.jsx)("span",{children:(0,o.jsx)(v.In,{iconSize:v.lK.Custom,icon:f.A,className:"PureAchievementToast-module__gamerScoreIcon___R+Q5E"})}),null!=i?`${i} - ${t}`:t]})]}),(0,o.jsx)("div",{className:"PureAchievementToast-module__secondTextContainer___brBQX",children:(0,o.jsx)("div",{className:T,children:n})}),(0,o.jsx)("div",{className:"PureAchievementToast-module__thirdTextContainer___PiUhF",children:u&&(0,o.jsx)(N.X,{mode:u,className:"PureAchievementToast-module__inputInstruction___OXfX9",textClassName:T,onShortcutPressed:_})}),s&&(r?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("audio",{ref:h,src:R}),(0,o.jsx)("audio",{ref:y,src:I})]}):(0,o.jsx)("audio",{ref:b,src:E}))]})};var b=n(87309),j=n(30961),P=n(15387),w=n(88060),k=n(34041),M=n(94787),O=n(78672),F=n(42672),D=n(58003),U=n(70499);const G=({icon:e})=>(0,o.jsx)("div",{className:"NotificationAttributedIcon-module__container___yQ8FR",children:(0,o.jsx)(v.In,{className:"NotificationAttributedIcon-module__icon___VmB94",icon:e,iconSize:v.lK.Custom})});var L=n(55817);const B=({mode:e,payload:t,onClick:n})=>{const i=(0,P.G_)(b.H.EnableAchievements),r=(0,p.useSelector)(d.Kj);if(!i)return null;switch(e.kind){case"toast":return t.achievementId&&t.titleId&&r?(0,o.jsx)(q,{id:e.toastId,achievementId:t.achievementId,titleId:t.titleId,xuid:r,onClick:n}):null;case"notification":return(0,o.jsx)(H,{payload:t,onClick:n})}},H=({payload:e,onClick:t})=>{const n=e.additionalAchievements+1,[i,d,p,v]=(0,S.cG)("Notification_Achievement_Singular","Notification_Achievement_Plural","Social_Mark_As_Read","Delete"),f=(0,c.useLogger)("AchievementNotification"),h=(0,m.useMemo)((()=>1===n?i:(0,u.GPZ)(d,n.toString())),[n,i,d]),x=(0,o.jsx)(G,{icon:r.A}),g=(0,o.jsx)("div",{className:L.WY,children:h}),C=(0,l.useIsMountedRef)(),{ref:T,inView:N}=(0,_.Wx)({threshold:.5,skip:e.seen,triggerOnce:!0}),A=(0,D.y9)();(0,m.useEffect)((()=>()=>{!C.current&&N&&(f.debug("Marking notification as seen",e),A(e,"seen"))}),[N,C,f,e,A]);const E=(0,m.useMemo)((()=>{const t=[{optionType:"labelButton",label:v,onClick:()=>A(e,"delete"),icon:s.A,type:"destructive"}];return e.markedRead||t.unshift({optionType:"labelButton",label:p,onClick:()=>A(e,"read"),icon:a.A}),t}),[v,p,e,A]);return(0,o.jsx)("div",{className:L.fV,children:(0,o.jsx)(U.S,{ref:T,status:e.seen?"read":"new",timestamp:e.timestampMS,attributeComponent:x,textComponent:g,options:E,onClick:()=>{A(e,"read"),t()}})})},q=({id:e,titleId:t,achievementId:n,xuid:r,onClick:s})=>{const[,a]=(0,F.JD)(r),c=(0,m.useCallback)((()=>null),[]),l=(0,m.useCallback)((()=>(0,o.jsx)(z,{id:e,titleId:t,achievementId:n,xuid:r,onClick:s})),[n,e,s,t,r]),d=(0,m.useCallback)((({data:i})=>{const r=i.find((e=>e.id===n&&e.title.id===t));return r?(0,o.jsx)(Y,{id:e,achievement:r,onClick:s}):l()}),[n,e,s,l,t]);return(0,o.jsx)(i.LceRenderer,{data:a,renderDefault:c,renderError:l,renderContent:d})},z=({id:e,titleId:t,achievementId:n,xuid:r,onClick:s})=>{const a=(0,c.useLogger)("AchievementToast"),[,l]=(0,F.Fz)(r,t),d=(0,m.useCallback)((()=>null),[]),u=(0,m.useCallback)((()=>(a.error(`Toast could not be shown for achievement ${n} in title ${t} because the achievement could not be found.`),null)),[n,a,t]),_=(0,m.useCallback)((({data:t})=>{const i=t.find((e=>e.id===n));return i?(0,o.jsx)(Y,{id:e,achievement:i,onClick:s}):u()}),[n,e,s,u]);return(0,o.jsx)(i.LceRenderer,{data:l,renderDefault:d,renderError:u,renderContent:_})},Y=({id:e,achievement:t,onClick:n})=>{var i,r;const[s=!0]=(0,w.bX)("enableNotificationSoundEffects"),[a]=(0,w.bX)("enableExtendedNotificationDuration"),{isTV:c}=(0,j.U)(),l=(0,p.useSelector)(k.K$),d=!(null!==(i=null===l||void 0===l?void 0:l.isRunning)&&void 0!==i&&i)&&!c&&s,u=(0,M.o3)("AchievementToast");return(0,m.useEffect)((()=>{u.trackUserAction(O.a.ToastShown,void 0,{notificationType:"AchievementUnlock",id:e})}),[u,e]),(0,o.jsx)(y,{id:e,name:t.name,description:t.description.unlocked,isRare:"Rare"===(null===(r=t.rarity)||void 0===r?void 0:r.currentCategory),gamerscore:t.gamerscore,enableSound:d,enableExtendedDuration:a,onClick:n})}},88055:(e,t,n)=>{n.d(t,{E:()=>T});n(47010);var o=n(31085),i=n(35672),r=n(3776),s=n(66957),a=n(7463),c=n(14041),l=n(10651),d=n(41506),u=n.n(d),m=n(53373),_=n.n(m),p=n(68219);var v=n(70499),f=n(93441),h=n(94787),x=n(78672),g=n(58003),C=n(73885);const T=({className:e,mainContentClassName:t,attributeComponent:n,textComponent:d,notification:u,onClick:m})=>{const[_,p]=(0,f.cG)("Social_Mark_As_Read","Delete"),T=(0,a.useIsMountedRef)(),{ref:S,inView:N}=(0,l.Wx)({threshold:.5,skip:u.seen,triggerOnce:!0}),A=(0,g.y9)(),E=(0,h.o3)();(0,c.useEffect)((()=>()=>{!T.current&&N&&(new s.Logger("Notification").debug("Marking notification as seen",u),A(u,"seen"))}),[N,T,u,A]);const R=(0,c.useMemo)((()=>{const e=[{optionType:"labelButton",label:p,onClick:()=>A(u,"delete"),icon:i.A,type:"destructive"}];return u.markedRead||e.unshift({optionType:"labelButton",label:_,onClick:()=>A(u,"read"),icon:r.A}),e}),[p,_,u,A]);return(0,o.jsx)(h.C9,{location:"Notification",children:(0,o.jsx)(v.S,{ref:S,className:e,mainContentClassName:t,status:(0,C.B)(u),attributeComponent:n,textComponent:d,timestamp:u.timestampMS,options:R,onClick:()=>{A(u,"read"),m(),E.trackUserAction(x.a.NotificationInteraction,void 0,{notificationType:u.type})}})})};T.GamerPic=e=>(0,o.jsx)(p.l,u()(u()({},e),{},{className:_()("GamerPic-module__gamerPic___uT5VX",e.className)}))},92699:(e,t,n)=>{n.d(t,{F3:()=>s,cL:()=>a,fn:()=>c,oS:()=>l});var o=n(57361),i=n(69607);const r=e=>(0,i.CM)(e).envData,s=e=>{const t=r(e),n=(0,o.getDataOrPrevious)(t);return null===n||void 0===n?void 0:n.region},a=e=>{const t=r(e),n=(0,o.getDataOrPrevious)(t);return null===n||void 0===n?void 0:n.environmentName},c=e=>{const t=r(e),n=(0,o.getDataOrPrevious)(t);return null===n||void 0===n?void 0:n.podName},l=e=>{const t=r(e),n=(0,o.getDataOrPrevious)(t);return null===n||void 0===n?void 0:n.infraGroup}},92707:(e,t,n)=>{n.d(t,{Q:()=>i});n(10865);var o=n(15697);async function i(e,t){const n=await e.acquireTokenSilently(t);if(e.isTokenExpired(t))throw new o.xU(t);if(null===n||void 0===n||!n.token){if(!await e.isAuthenticated())throw new o.lI;throw new o.O9}return n}},93730:(e,t,n)=>{n.d(t,{d:()=>u});n(69375);var o=n(31085),i=n(79384),r=n(14041),s=n(94787),a=n(74093),c=n(88055),l=n(55817),d=n(46046);const u=({payload:e,mode:t,onClick:n})=>{const u="toast"===t.kind?(0,o.jsx)(d.y.GamerPic,{xuid:e.actor.xuid,size:i.Ow.Small}):(0,o.jsx)(c.E.GamerPic,{xuid:e.actor.xuid}),{locKey:m,locComponentParts:_}=(0,r.useMemo)((()=>{let n;const i=[(0,o.jsx)("b",{children:e.actor.gamertag.uniqueGamertag},e.actor.xuid)];return"toast"===t.kind?n="Notification_Follower_Toast":0===e.additionalFollowers?n="Notification_Follower":1===e.additionalFollowers?n="Notification_Grouped_Followers_Singular":(n="Notification_Grouped_Followers_Multiple",i.push(e.additionalFollowers)),{locKey:n,locComponentParts:i}}),[t.kind,e.actor.gamertag.uniqueGamertag,e.actor.xuid,e.additionalFollowers]),p=(0,o.jsx)(a.c,{className:l.WY,locKey:m,locComponentParts:_});switch(t.kind){case"toast":return(0,o.jsx)(s.C9,{location:"Toast",children:(0,o.jsx)(d.y,{id:t.toastId,className:l.eB,attributeComponent:u,textComponent:p,onShortcutPressed:n})});case"notification":return(0,o.jsx)(s.C9,{location:"Notification",children:(0,o.jsx)("div",{className:l.fV,children:(0,o.jsx)(c.E,{notification:e,attributeComponent:u,textComponent:p,onClick:n})})})}}},94278:(e,t,n)=>{n.d(t,{c:()=>r});n(81045),n(45950),n(84915),n(47010);var o=n(43199),i=n(26341);const r=e=>{const t=(0,o.l)(e),n=(0,o.y)(e),[r]=(0,i.dd)(n,["PreferredColors"]);return t.map((e=>{const t=null===r||void 0===r?void 0:r.find((t=>e.xuid===t.xuid));return t?{partyMember:e,profile:t}:{partyMember:e}}))}},98815:(e,t,n)=>{n.d(t,{r:()=>i});n(69375),n(47010);var o=n(94278);const i=e=>{const t=(0,o.c)(e),n=[];for(const o of t)o.profile&&n.push({src:o.profile.gamerpicUrl,"aria-label":o.profile.gamertag.uniqueGamertag,id:o.profile.xuid});return n}}}]);